login as: docker
docker@192.168.99.164's password:
Access denied
docker@192.168.99.164's password:
                         _             _
            _         _ ( )           ( )
  ___ ___  (_)  ___  (_)| |/')  _   _ | |_      __
/' _ ` _ `\| |/' _ `\| || , <  ( ) ( )| '_`\  /'__`\
| ( ) ( ) || || ( ) || || |\`\ | (_) || |_) )(  ___/
(_) (_) (_)(_)(_) (_)(_)(_) (_)`\___/'(_,__/'`\____)

$ export PS1='\n$PWD>'

/home/docker>

/home/docker>export PS1='\n$PWD> '

/home/docker> docker network prune
WARNING! This will remove all networks not used by at least one container.
Are you sure you want to continue? [y/N] y
Deleted Networks:
w2-db-net
w1-db-net


/home/docker> docker container prune
WARNING! This will remove all stopped containers.
Are you sure you want to continue? [y/N] y
Deleted Containers:
3d145c592a6ab76060a3595bba9478a0f637852147ee105d170636228869340d
d07737bd40575edeba5207570b5e3227a681bec47589d93e1d62573e793712cb
36061c05ad13940426adabd1bcf64308fdc36d2947d3ee6ac95d1262bcf21799
44b8dce848f07c7270c0e4ac7cee29bdcb20d73c10964eadfc3588517de7b60e
100d410b1a82b1d6cd2f1b557ddb372bb3a2a9fb529f5791c0638a94f68cb310
4bd47332846c814d5226a35fdd23affa4bc1e2d63edaead5d2d3ccc3e3fb22a7
acecbc48ae2410f1ce02c5a393ffdf957866029a0a7ae36aea035bfc0a6e334d
5417d1ba5fa346acfc50de1afd02417895519a62eb2818e4a7087f14a8605f1f
b713193d1e9fe0b46d64cee05ec340437804b2b81444e760b807d51d16bc8540
7d9d9d48a3c2afe5c4cda19d353b1c55b6500527a1c2db1c7e98af5a7224095f
f54ca0b1a01b0123cd20889fd839c69a6032bbac6caed25caa96cf25d9fb811e
1848880dee9607a1a13d544466737fbccb08e3bf5d71f913339c88d4b481346d
9332366c8170e1de77bd7fb68cac344284ffccb585e61a04a777f2588b9c4f7b
35423601839c115c7b63be83542de944412389eaa5d488a09c12663acbbf1b95
72cf1a549da3438d977d00cad10879f24d0869d8cbfa1ba12bc0eb66d25869fb
0b882d74735f7ffdc004f57996fab6c298cc99ac7b8cc8cc3313cae62c07874e
8f9d840ef427cd7ebb31416552098af4b17a62d1fa05e2224ee5adb172b04dfc
c42c4cded43fa587f1cb6389b70188e0170f47e5f2a84be47ebf789d5515a326
1f0d8fe18ff4e470252b87bd71219183d7fc7c1c4045e0cc77f4caf33a367daa
caa0182a0eee5579a99c85c99043dbf8eedb96dc8a7242c42f8c229da04f5648
6aa4ce712ad1d2e7af991bf8d28cab122e05c6d77d52c684446f86b46df019ca
44756e67caf16c32553793a5e70ff24a5c477e7504cc7323314a052af413450b
b4f75b6cec2c0467dfc8bfc55d28068f820596cb6aad019bf8ce71e8e15a8aee
42a8dcee8c7266f624f790f0d6c980e9f22102d18db9de17a26d3539dcf426be
3dd89384ec80884eae82e660bae6d7a4027969bfce6579da1890529d0c82c611
bcb57c551ad957b0928c32e5b7a42ec077ac63dd41facb8e9e2d2347992bfde1
655d805031ab21768fda34a1b8d6410ce18dd70b506c9ad43c8da249209afc7a
d6e3345abf7c77454ce97614144ef5b9978407d1a9eba7e963466df11968c4a9
7e825cbdb19468b91c94fa60a3b6cb84af8e049cec2f3a10106ed6948281f016
d6d2daaa2308759defac075b8924df42976f799bccedb7f7df68a5908c632b0a
95f6bcf27c6548fd1e173e7e834191ddf1991f72e0d6c47eb6b9ca67ca571a8d

Total reclaimed space: 1.564MB

/home/docker>

/home/docker> docker image history ghost:1-alpine
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
d92b0a9ac458        7 weeks ago         /bin/sh -c #(nop)  CMD ["node" "current/in...   0B
<missing>           7 weeks ago         /bin/sh -c #(nop)  EXPOSE 2368                  0B
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENTRYPOINT ["docker-ent...   0B
<missing>           7 weeks ago         /bin/sh -c #(nop) COPY file:f1f79dab1b0ea9...   678B
<missing>           7 weeks ago         /bin/sh -c #(nop)  VOLUME [/var/lib/ghost/...   0B
<missing>           7 weeks ago         /bin/sh -c #(nop) WORKDIR /var/lib/ghost        0B
<missing>           7 weeks ago         /bin/sh -c set -eux;  cd "$GHOST_INSTALL/c...   22MB
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENV PATH=/usr/local/sbi...   0B
<missing>           7 weeks ago         /bin/sh -c set -ex;  mkdir -p "$GHOST_INST...   308MB
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENV GHOST_VERSION=1.25.8     0B
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENV GHOST_CONTENT=/var/...   0B
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENV GHOST_INSTALL=/var/...   0B
<missing>           7 weeks ago         /bin/sh -c npm install -g "ghost-cli@$GHOS...   35.5MB
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENV GHOST_CLI_VERSION=1...   0B
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENV NODE_ENV=production      0B
<missing>           7 weeks ago         /bin/sh -c apk add --no-cache   bash            4.03MB
<missing>           7 weeks ago         /bin/sh -c apk add --no-cache 'su-exec>=0.2'    36.4kB
<missing>           7 weeks ago         /bin/sh -c #(nop)  CMD ["node"]                 0B
<missing>           7 weeks ago         /bin/sh -c #(nop)  ENTRYPOINT ["docker-ent...   0B
<missing>           7 weeks ago         /bin/sh -c #(nop) COPY file:238737301d4730...   116B
<missing>           2 months ago        /bin/sh -c apk add --no-cache --virtual .b...   5.1MB
<missing>           2 months ago        /bin/sh -c #(nop)  ENV YARN_VERSION=1.15.2      0B
<missing>           2 months ago        /bin/sh -c addgroup -g 1000 node     && ad...   56MB
<missing>           2 months ago        /bin/sh -c #(nop)  ENV NODE_VERSION=8.16.0      0B
<missing>           2 months ago        /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B
<missing>           2 months ago        /bin/sh -c #(nop) ADD file:a86aea1f3a7d68f...   5.53MB

/home/docker> cd /c/Users/Dell\ lap/docker-workshop/jul22/app/

/c/Users/Dell lap/docker-workshop/jul22/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/jul22/app> docker image history mysql:5.7
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
98455b9624a9        3 months ago        /bin/sh -c #(nop)  CMD ["mysqld"]               0B
<missing>           3 months ago        /bin/sh -c #(nop)  EXPOSE 3306 33060            0B
<missing>           3 months ago        /bin/sh -c #(nop)  ENTRYPOINT ["docker-ent...   0B
<missing>           3 months ago        /bin/sh -c ln -s usr/local/bin/docker-entr...   34B
<missing>           3 months ago        /bin/sh -c #(nop) COPY file:aa86b132b6a63c...   6.39kB
<missing>           3 months ago        /bin/sh -c #(nop)  VOLUME [/var/lib/mysql]      0B
<missing>           3 months ago        /bin/sh -c {   echo mysql-community-server...   257MB
<missing>           3 months ago        /bin/sh -c echo "deb http://repo.mysql.com...   56B
<missing>           3 months ago        /bin/sh -c #(nop)  ENV MYSQL_VERSION=5.7.2...   0B
<missing>           3 months ago        /bin/sh -c #(nop)  ENV MYSQL_MAJOR=5.7          0B
<missing>           3 months ago        /bin/sh -c set -ex;  key='A4A9406876FCBD3C...   27.8kB
<missing>           3 months ago        /bin/sh -c apt-get update && apt-get insta...   44.8MB
<missing>           3 months ago        /bin/sh -c mkdir /docker-entrypoint-initdb.d    0B
<missing>           3 months ago        /bin/sh -c set -x  && apt-get update && ap...   4.44MB
<missing>           3 months ago        /bin/sh -c #(nop)  ENV GOSU_VERSION=1.7         0B
<missing>           3 months ago        /bin/sh -c apt-get update && apt-get insta...   10.2MB
<missing>           3 months ago        /bin/sh -c groupadd -r mysql && useradd -r...   329kB
<missing>           3 months ago        /bin/sh -c #(nop)  CMD ["bash"]                 0B
<missing>           3 months ago        /bin/sh -c #(nop) ADD file:4fc310c0cb879c8...   55.3MB

/c/Users/Dell lap/docker-workshop/jul22/app>

/c/Users/Dell lap/docker-workshop/jul22/app> cd

/home/docker> docker network create blog-nw
d6d5051d711a31d78c567c57b14070a3304da9e5a1f95b953adc1830b7bafdb3

/home/docker> docker network inspect blog-nw
[
    {
        "Name": "blog-nw",
        "Id": "d6d5051d711a31d78c567c57b14070a3304da9e5a1f95b953adc1830b7bafdb3",
        "Created": "2019-07-24T15:30:07.674591354Z",
        "Scope": "local",
        "Driver": "bridge",
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": {},
            "Config": [
                {
                    "Subnet": "172.18.0.0/16",
                    "Gateway": "172.18.0.1"
                }
            ]
        },
        "Internal": false,
        "Attachable": false,
        "Ingress": false,
        "ConfigFrom": {
            "Network": ""
        },
        "ConfigOnly": false,
        "Containers": {},
        "Options": {},
        "Labels": {}
    }
]

/home/docker>

/home/docker> docker container run -d --network blog-nw --name blog-db -v /tmp/blog:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=welcome mysql:5.7
b357a86f35f541410a21dd38914d3e2f3bb2e09d4c318c0f93067746c294c0fd

/home/docker> docker container run -d --network blog-nw --name blog-ghost -p 9090:2368 -e database__client=mysql -e database__connection__host=blog-db -e database__connection__port=3306 -e database__connection__user=root -e database__connection__password=welcome -e database__connection__database=ghost ghost:1-alpine
7a3fca9ce7db5fd90b097a2d52b8b1617c398fc40622d3e141c3986f3af757e5

/home/docker> docker container exec -it blog-db mysql -uroot -pwelcome
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 34
Server version: 5.7.25 MySQL Community Server (GPL)

Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| ghost              |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.00 sec)

mysql> use ghost;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> show tables;
+------------------------+
| Tables_in_ghost        |
+------------------------+
| accesstokens           |
| app_fields             |
| app_settings           |
| apps                   |
| brute                  |
| client_trusted_domains |
| clients                |
| invites                |
| migrations             |
| migrations_lock        |
| permissions            |
| permissions_apps       |
| permissions_roles      |
| permissions_users      |
| posts                  |
| posts_authors          |
| posts_tags             |
| refreshtokens          |
| roles                  |
| roles_users            |
| settings               |
| subscribers            |
| tags                   |
| users                  |
| webhooks               |
+------------------------+
25 rows in set (0.00 sec)

mysql> exit
Bye

/home/docker> cd /tmp/
.ICE-unix/
.Test-unix/
.X11-unix/
.XIM-unix/
.font-unix/
blog/
hostpath-provisioner/
hostpath_pv/
k8s-dns-dnsmasq-nanny-amd64_1.14.5
k8s-dns-kube-dns-amd64_1.14.5
k8s-dns-sidecar-amd64_1.14.5
kube-addon-manager_v6.5
kubernetes-dashboard-amd64_v1.8.1
pause-amd64_3.0
storage-provisioner_v1.8.0
systemd-private-9c38aa4eabc949b2b1e83178f1c0e0f9-systemd-resolved.service-86jRLB/
systemd-private-9c38aa4eabc949b2b1e83178f1c0e0f9-systemd-timesyncd.service-5zJn6h/

/home/docker> cd /tmp/blog/

/tmp/blog> ls
auto.cnf         ghost           ibtmp1              server-cert.pem
ca-key.pem       ib_buffer_pool  mysql               server-key.pem
ca.pem           ib_logfile0     performance_schema  sys
client-cert.pem  ib_logfile1     private_key.pem
client-key.pem   ibdata1         public_key.pem

/tmp/blog> cd -
/home/docker

/home/docker> app
-bash: app: command not found

/home/docker> docker image ls app
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
app                 3                   8451096077fd        22 hours ago        10.6MB
app                 latest              8451096077fd        22 hours ago        10.6MB
app                 2                   ac0f61f72db3        24 hours ago        10.6MB
app                 1                   c1b3787a442c        24 hours ago        10.6MB
app                 delta               c1b3787a442c        24 hours ago        10.6MB

/home/docker> docker image push app
The push refers to a repository [docker.io/library/app]
e41417a0de31: Preparing
9664132139fa: Preparing
1bfeebd65323: Preparing
denied: requested access to the resource is denied

/home/docker> docker login
Login with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, head over to https://hub.docker.com to create one.
Username: adityaprabhakara
Password:
Login Succeeded

/home/docker> docker image push app
The push refers to a repository [docker.io/library/app]
e41417a0de31: Preparing
9664132139fa: Preparing
1bfeebd65323: Preparing
denied: requested access to the resource is denied

/home/docker> docker image push adityaprabhakara/app
The push refers to a repository [docker.io/adityaprabhakara/app]
An image does not exist locally with the tag: adityaprabhakara/app

/home/docker> docker image tag app adityaprabhakara/app

/home/docker> docker image ls app
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
app                 3                   8451096077fd        22 hours ago        10.6MB
app                 latest              8451096077fd        22 hours ago        10.6MB
app                 2                   ac0f61f72db3        24 hours ago        10.6MB
app                 1                   c1b3787a442c        25 hours ago        10.6MB
app                 delta               c1b3787a442c        25 hours ago        10.6MB

/home/docker> docker image ls adityaprabhakara/app
REPOSITORY             TAG                 IMAGE ID            CREATED             SIZE
adityaprabhakara/app   latest              8451096077fd        22 hours ago        10.6MB

/home/docker> docker image push adityaprabhakara/app
The push refers to a repository [docker.io/adityaprabhakara/app]
dbfd2e1c0900: Pushed
e41417a0de31: Pushed
9664132139fa: Pushed
1bfeebd65323: Pushed
latest: digest: sha256:552bc313c1ef3c13110644b01d4cd6a9ceb0d7b2d6085eebc0154064cfaff1c1 size: 1157

/home/docker>





------------------------------------------------------------------------------------------------------------

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ ls
dep/  newcluster/  pod/  pv-pvc/  rc/  resource-quota/  service/

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ ls pod/
pod-helloworld.yml

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
No resources found.

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl apply -f pod/pod-helloworld.yml
pod/my-nginx created

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME       READY   STATUS    RESTARTS   AGE
my-nginx   1/1     Running   0          107s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pod
NAME       READY   STATUS    RESTARTS   AGE
my-nginx   1/1     Running   0          2m27s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get po
NAME       READY   STATUS    RESTARTS   AGE
my-nginx   1/1     Running   0          2m38s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl describe pod my-nginx
Name:         my-nginx
Namespace:    default
Node:         minikube/192.168.99.164
Start Time:   Wed, 24 Jul 2019 23:35:36 +0530
Labels:       app=helloworld
Annotations:  kubectl.kubernetes.io/last-applied-configuration:
                {"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{},"labels":{"app":"helloworld"},"name":"my-nginx","namespace":"default"},"spec"...
Status:       Running
IP:           172.17.0.14
Containers:
  nginx:
    Container ID:   docker://53560119efc2b940df262d76cb4fa601ea73fb0285d472a8b5755955930c8835
    Image:          nginx:alpine
    Image ID:       docker-pullable://nginx@sha256:482ead44b2203fa32b3390abdaf97cbdc8ad15c07fb03a3e68d7c35a19ad7595
    Port:           80/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Wed, 24 Jul 2019 23:35:49 +0530
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-448nd (ro)
Conditions:
  Type           Status
  Initialized    True
  Ready          True
  PodScheduled   True
Volumes:
  default-token-448nd:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-448nd
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  <none>
Tolerations:     <none>
Events:
  Type    Reason                 Age    From               Message
  ----    ------                 ----   ----               -------
  Normal  Scheduled              3m15s  default-scheduler  Successfully assigned my-nginx to minikube
  Normal  SuccessfulMountVolume  3m14s  kubelet, minikube  MountVolume.SetUp succeeded for volume "default-token-448nd"
  Normal  Pulling                3m13s  kubelet, minikube  pulling image "nginx:alpine"
  Normal  Pulled                 3m2s   kubelet, minikube  Successfully pulled image "nginx:alpine"
  Normal  Created                3m2s   kubelet, minikube  Created container
  Normal  Started                3m2s   kubelet, minikube  Started container

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)


---------------------------------------------------


  Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ #kubectl delete pod my-nginx

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl delete -f pod/pod-helloworld.yml
pod "my-nginx" deleted

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
No resources found.

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl apply -f rc/rc-helloworld.yml
replicationcontroller/helloworld-controller created

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get rc
NAME                    DESIRED   CURRENT   READY   AGE
helloworld-controller   2         2         2       86s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl describe rc helloworld-controller
Name:         helloworld-controller
Namespace:    default
Selector:     app=helloworld
Labels:       app=helloworld
Annotations:  kubectl.kubernetes.io/last-applied-configuration:
                {"apiVersion":"v1","kind":"ReplicationController","metadata":{"annotations":{},"name":"helloworld-controller","namespace":"default"},"spec...
Replicas:     2 current / 2 desired
Pods Status:  2 Running / 0 Waiting / 0 Succeeded / 0 Failed
Pod Template:
  Labels:  app=helloworld
  Containers:
   nginx:
    Image:        nginx:alpine
    Port:         80/TCP
    Host Port:    0/TCP
    Environment:  <none>
    Mounts:       <none>
  Volumes:        <none>
Events:
  Type    Reason            Age   From                    Message
  ----    ------            ----  ----                    -------
  Normal  SuccessfulCreate  2m6s  replication-controller  Created pod: helloworld-controller-g4vdz
  Normal  SuccessfulCreate  2m6s  replication-controller  Created pod: helloworld-controller-f9n2j

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
helloworld-controller-f9n2j   1/1     Running   0          3m5s
helloworld-controller-g4vdz   1/1     Running   0          3m5s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get rc
NAME                    DESIRED   CURRENT   READY   AGE
helloworld-controller   2         2         2       3m18s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
helloworld-controller-f9n2j   1/1     Running   0          4m17s
helloworld-controller-g4vdz   1/1     Running   0          4m17s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods -o wide
NAME                          READY   STATUS    RESTARTS   AGE     IP            NODE       NOMINATED NODE   READINESS GATES
helloworld-controller-f9n2j   1/1     Running   0          4m21s   172.17.0.14   minikube   <none>           <none>
helloworld-controller-g4vdz   1/1     Running   0          4m21s   172.17.0.15   minikube   <none>           <none>

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl scale rc helloworld-controller --replicas 5
replicationcontroller/helloworld-controller scaled

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
helloworld-controller-7x22k   1/1     Running   0          6s
helloworld-controller-f9n2j   1/1     Running   0          5m35s
helloworld-controller-g4vdz   1/1     Running   0          5m35s
helloworld-controller-mfh6t   1/1     Running   0          7s
helloworld-controller-rh6kk   1/1     Running   0          6s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl scale rc helloworld-controller --replicas 2
replicationcontroller/helloworld-controller scaled

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS        RESTARTS   AGE
helloworld-controller-7x22k   0/1     Terminating   0          52s
helloworld-controller-f9n2j   1/1     Running       0          6m21s
helloworld-controller-g4vdz   1/1     Running       0          6m21s
helloworld-controller-mfh6t   0/1     Terminating   0          53s
helloworld-controller-rh6kk   0/1     Terminating   0          52s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
helloworld-controller-f9n2j   1/1     Running   0          6m32s
helloworld-controller-g4vdz   1/1     Running   0          6m32s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl delete pod helloworld-controller-g4vdz
pod "helloworld-controller-g4vdz" deleted

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
helloworld-controller-28pgz   1/1     Running   0          10s
helloworld-controller-f9n2j   1/1     Running   0          7m29s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl apply -f rc/rc-helloworld.yml
replicationcontroller/helloworld-controller configured

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
helloworld-controller-28pgz   1/1     Running   0          79s
helloworld-controller-6whcn   1/1     Running   0          11s
helloworld-controller-f9n2j   1/1     Running   0          8m38s
helloworld-controller-kp2p8   1/1     Running   0          11s
helloworld-controller-s9dcp   1/1     Running   0          11s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl apply -f rc/rc-helloworld.yml
replicationcontroller/helloworld-controller configured

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS        RESTARTS   AGE
helloworld-controller-28pgz   1/1     Running       0          104s
helloworld-controller-6whcn   0/1     Terminating   0          36s
helloworld-controller-f9n2j   1/1     Running       0          9m3s
helloworld-controller-kp2p8   0/1     Terminating   0          36s
helloworld-controller-s9dcp   0/1     Terminating   0          36s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                          READY   STATUS        RESTARTS   AGE
helloworld-controller-28pgz   1/1     Running       0          108s
helloworld-controller-f9n2j   1/1     Running       0          9m7s
helloworld-controller-s9dcp   0/1     Terminating   0          40s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods --show-labels
NAME                          READY   STATUS    RESTARTS   AGE     LABELS
helloworld-controller-28pgz   1/1     Running   0          2m15s   app=helloworld
helloworld-controller-f9n2j   1/1     Running   0          9m34s   app=helloworld

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ


-----------------------------------------------------------------------------------

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl delete rc helloworld-controller
replicationcontroller "helloworld-controller" deleted

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
No resources found.

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl apply -f dep/dep-helloworld.yml
deployment.extensions/helloworld-dep created

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get deploy
NAME             READY   UP-TO-DATE   AVAILABLE   AGE
helloworld-dep   0/2     2            0           24s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
helloworld-dep-6b5cd64d8d-5mfrx   1/1     Running   0          36s
helloworld-dep-6b5cd64d8d-6n2vz   1/1     Running   0          36s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ #kubectl scale rc helloworld-controller --replicas 2

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl scale deploy helloworld-dep --replicas 10
deployment.extensions/helloworld-dep scaled

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS              RESTARTS   AGE
helloworld-dep-6b5cd64d8d-5mfrx   1/1     Running             0          108s
helloworld-dep-6b5cd64d8d-5qgbn   0/1     ContainerCreating   0          12s
helloworld-dep-6b5cd64d8d-6n2vz   1/1     Running             0          108s
helloworld-dep-6b5cd64d8d-g6cxl   1/1     Running             0          12s
helloworld-dep-6b5cd64d8d-hkjkf   1/1     Running             0          12s
helloworld-dep-6b5cd64d8d-pvl7g   1/1     Running             0          12s
helloworld-dep-6b5cd64d8d-sjj8j   1/1     Running             0          12s
helloworld-dep-6b5cd64d8d-sxrvt   1/1     Running             0          12s
helloworld-dep-6b5cd64d8d-xm8n5   1/1     Running             0          12s
helloworld-dep-6b5cd64d8d-xnndx   0/1     ContainerCreating   0          12s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
helloworld-dep-6b5cd64d8d-5mfrx   1/1     Running   0          3m11s
helloworld-dep-6b5cd64d8d-5qgbn   1/1     Running   0          95s
helloworld-dep-6b5cd64d8d-6n2vz   1/1     Running   0          3m11s
helloworld-dep-6b5cd64d8d-g6cxl   1/1     Running   0          95s
helloworld-dep-6b5cd64d8d-hkjkf   1/1     Running   0          95s
helloworld-dep-6b5cd64d8d-pvl7g   1/1     Running   0          95s
helloworld-dep-6b5cd64d8d-sjj8j   1/1     Running   0          95s
helloworld-dep-6b5cd64d8d-sxrvt   1/1     Running   0          95s
helloworld-dep-6b5cd64d8d-xm8n5   1/1     Running   0          95s
helloworld-dep-6b5cd64d8d-xnndx   1/1     Running   0          95s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ


-----------------------------------------------------------------------------------------

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
1         <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep --revision 1
deployment.extensions/helloworld-dep with revision #1
Pod Template:
  Labels:       app=helloworld
        pod-template-hash=2617820848
  Containers:
   web:
    Image:      nginx:mainline
    Port:       80/TCP
    Host Port:  0/TCP
    Environment:        <none>
    Mounts:     <none>
  Volumes:      <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
helloworld-dep-6b5cd64d8d-5mfrx   1/1     Running   0          40m
helloworld-dep-6b5cd64d8d-5qgbn   1/1     Running   0          39m
helloworld-dep-6b5cd64d8d-6n2vz   1/1     Running   0          40m
helloworld-dep-6b5cd64d8d-g6cxl   1/1     Running   0          39m
helloworld-dep-6b5cd64d8d-hkjkf   1/1     Running   0          39m
helloworld-dep-6b5cd64d8d-pvl7g   1/1     Running   0          39m
helloworld-dep-6b5cd64d8d-sjj8j   1/1     Running   0          39m
helloworld-dep-6b5cd64d8d-sxrvt   1/1     Running   0          39m
helloworld-dep-6b5cd64d8d-xm8n5   1/1     Running   0          39m
helloworld-dep-6b5cd64d8d-xnndx   1/1     Running   0          39m

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout status deploy helloworld-dep
deployment "helloworld-dep" successfully rolled out

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl set image deploy helloworld-dep web=nginx:latest
deployment.extensions/helloworld-dep image updated

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout status deploy helloworld-dep
Waiting for deployment "helloworld-dep" rollout to finish: 2 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 2 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 3 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 3 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 3 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 3 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 4 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 4 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 4 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 4 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 5 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 5 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 5 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 6 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 6 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 6 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 7 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 7 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 7 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 8 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 8 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 8 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 8 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 8 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 9 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 9 out of 10 new replicas have been updated...
Waiting for deployment "helloworld-dep" rollout to finish: 2 old replicas are pending termination...
Waiting for deployment "helloworld-dep" rollout to finish: 1 old replicas are pending termination...
Waiting for deployment "helloworld-dep" rollout to finish: 1 old replicas are pending termination...
Waiting for deployment "helloworld-dep" rollout to finish: 1 old replicas are pending termination...
Waiting for deployment "helloworld-dep" rollout to finish: 9 of 10 updated replicas are available...
deployment "helloworld-dep" successfully rolled out

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
helloworld-dep-7b64bc55d4-6g57b   1/1     Running   0          39s
helloworld-dep-7b64bc55d4-6jd5q   1/1     Running   0          33s
helloworld-dep-7b64bc55d4-986bq   1/1     Running   0          39s
helloworld-dep-7b64bc55d4-c9cth   1/1     Running   0          33s
helloworld-dep-7b64bc55d4-dz5p6   1/1     Running   0          13s
helloworld-dep-7b64bc55d4-fxp8g   1/1     Running   0          19s
helloworld-dep-7b64bc55d4-q5v7k   1/1     Running   0          27s
helloworld-dep-7b64bc55d4-qr9xz   1/1     Running   0          26s
helloworld-dep-7b64bc55d4-r9vlr   1/1     Running   0          22s
helloworld-dep-7b64bc55d4-tpvg5   1/1     Running   0          14s

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
1         <none>
2         <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep --revision 1
deployment.extensions/helloworld-dep with revision #1
Pod Template:
  Labels:       app=helloworld
        pod-template-hash=2617820848
  Containers:
   web:
    Image:      nginx:mainline
    Port:       80/TCP
    Host Port:  0/TCP
    Environment:        <none>
    Mounts:     <none>
  Volumes:      <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep --revision 2
deployment.extensions/helloworld-dep with revision #2
Pod Template:
  Labels:       app=helloworld
        pod-template-hash=3620671180
  Containers:
   web:
    Image:      nginx:latest
    Port:       80/TCP
    Host Port:  0/TCP
    Environment:        <none>
    Mounts:     <none>
  Volumes:      <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
1         <none>
2         <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl set image deploy helloworld-dep web=nginx:alpine
deployment.extensions/helloworld-dep image updated

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS        RESTARTS   AGE
helloworld-dep-5cdb68cc76-96krh   1/1     Running       0          6s
helloworld-dep-5cdb68cc76-d8x8p   1/1     Running       0          4s
helloworld-dep-5cdb68cc76-dvbhg   0/1     Pending       0          1s
helloworld-dep-5cdb68cc76-m5wtg   1/1     Running       0          18s
helloworld-dep-5cdb68cc76-vjwzs   1/1     Running       0          19s
helloworld-dep-7b64bc55d4-6g57b   1/1     Running       0          3m17s
helloworld-dep-7b64bc55d4-6jd5q   1/1     Running       0          3m11s
helloworld-dep-7b64bc55d4-986bq   1/1     Running       0          3m17s
helloworld-dep-7b64bc55d4-c9cth   1/1     Running       0          3m11s
helloworld-dep-7b64bc55d4-fxp8g   0/1     Terminating   0          2m57s
helloworld-dep-7b64bc55d4-q5v7k   1/1     Running       0          3m5s
helloworld-dep-7b64bc55d4-qr9xz   1/1     Running       0          3m4s
helloworld-dep-7b64bc55d4-r9vlr   1/1     Terminating   0          3m

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
1         <none>
2         <none>
3         <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep --revision 3
deployment.extensions/helloworld-dep with revision #3
Pod Template:
  Labels:       app=helloworld
        pod-template-hash=1786247732
  Containers:
   web:
    Image:      nginx:alpine
    Port:       80/TCP
    Host Port:  0/TCP
    Environment:        <none>
    Mounts:     <none>
  Volumes:      <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
1         <none>
2         <none>
3         <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout undo deploy helloworld-dep
deployment.extensions/helloworld-dep rolled back

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
1         <none>
3         <none>
4         <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout undo deploy helloworld-dep --to-revision 1
deployment.extensions/helloworld-dep rolled back

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
3         <none>
4         <none>
5         <none>


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl delete -f dep/dep-helloworld.yml
deployment.extensions "helloworld-dep" deleted

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
No resources found.

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl apply -f dep/dep-helloworld.yml --record
deployment.extensions/helloworld-dep created

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl rollout history deploy helloworld-dep
deployment.extensions/helloworld-dep
REVISION  CHANGE-CAUSE
1         kubectl.exe apply --filename=dep/dep-helloworld.yml --record=true


Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ




Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl apply -f blog/blog-db.yml
deployment.extensions/blog-db-dep created

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
blog-db-dep-7c8f99fccd-mcw8f      1/1     Running   0          6s
helloworld-dep-6b5cd64d8d-vnbnh   1/1     Running   0          18m
helloworld-dep-6b5cd64d8d-w6hj6   1/1     Running   0          18m

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl logs -f blog-db-dep-7c8f99fccd-mcw8f --container db
Initializing database
2019-07-24T21:44:17.787009Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).
2019-07-24T21:44:25.832713Z 0 [Warning] InnoDB: New log files created, LSN=45790
2019-07-24T21:44:26.245220Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.
2019-07-24T21:44:27.059150Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 35937423-ae5c-11e9-ba0c-0242ac110010.
2019-07-24T21:44:27.061349Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.
2019-07-24T21:44:27.062101Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.
2019-07-24T21:44:28.516130Z 1 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:44:28.516587Z 1 [Warning] 'user' entry 'mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:44:28.516653Z 1 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:44:28.516722Z 1 [Warning] 'db' entry 'performance_schema mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:44:28.516817Z 1 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:44:28.517220Z 1 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:44:28.517332Z 1 [Warning] 'tables_priv' entry 'user mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:44:28.517368Z 1 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.
Database initialized
Initializing certificates
Generating a RSA private key
................................................................+++++
..+++++
unable to write 'random state'
writing new private key to 'ca-key.pem'
-----
Generating a RSA private key
...............................+++++
..............+++++
unable to write 'random state'
writing new private key to 'server-key.pem'
-----
Generating a RSA private key
..........................................................................................................+++++
...........+++++
unable to write 'random state'
writing new private key to 'client-key.pem'
-----
Certificates initialized
MySQL init process in progress...
MySQL init process in progress...
MySQL init process in progress...
MySQL init process in progress...
MySQL init process in progress...
MySQL init process in progress...
MySQL init process in progress...
2019-07-24T21:45:07.780791Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).
2019-07-24T21:45:08.534021Z 0 [Note] mysqld (mysqld 5.7.25) starting as process 88 ...
2019-07-24T21:45:09.176200Z 0 [Note] InnoDB: PUNCH HOLE support available
2019-07-24T21:45:09.186238Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins
2019-07-24T21:45:09.186259Z 0 [Note] InnoDB: Uses event mutexes
2019-07-24T21:45:09.186267Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier
2019-07-24T21:45:09.186335Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.11
2019-07-24T21:45:09.186349Z 0 [Note] InnoDB: Using Linux native AIO
2019-07-24T21:45:09.213915Z 0 [Note] InnoDB: Number of pools: 1
2019-07-24T21:45:09.327257Z 0 [Note] InnoDB: Using CPU crc32 instructions
2019-07-24T21:45:09.357268Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M
MySQL init process in progress...
2019-07-24T21:45:15.702148Z 0 [Note] InnoDB: Completed initialization of buffer pool
2019-07-24T21:45:15.801884Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().
MySQL init process in progress...
2019-07-24T21:45:16.780717Z 0 [Note] InnoDB: Highest supported file format is Barracuda.
2019-07-24T21:45:17.149447Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables
2019-07-24T21:45:17.150133Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...
MySQL init process in progress...
MySQL init process in progress...
MySQL init process in progress...
2019-07-24T21:45:20.798556Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.
2019-07-24T21:45:20.846292Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.
2019-07-24T21:45:20.846387Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.
2019-07-24T21:45:20.857003Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:45:20.907488Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:45:20.958898Z 0 [Note] InnoDB: page_cleaner: 1000ms intended loop took 5157ms. The settings might not be optimal. (flushed=0 and evicted=0, during the time.)
2019-07-24T21:45:20.959483Z 0 [Note] InnoDB: 5.7.25 started; log sequence number 2524141
2019-07-24T21:45:20.991918Z 0 [Note] Plugin 'FEDERATED' is disabled.
MySQL init process in progress...
2019-07-24T21:45:21.549707Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool
2019-07-24T21:45:21.596016Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.
2019-07-24T21:45:21.647872Z 0 [Warning] CA certificate ca.pem is self signed.
2019-07-24T21:45:22.152644Z 0 [Note] InnoDB: Buffer pool(s) load completed at 190724 21:45:22
2019-07-24T21:45:22.230678Z 0 [Warning] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.
2019-07-24T21:45:22.244980Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.245048Z 0 [Warning] 'user' entry 'mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.245068Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.245574Z 0 [Warning] 'db' entry 'performance_schema mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.245593Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.245869Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.263028Z 0 [Warning] 'tables_priv' entry 'user mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.263064Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:45:22.340026Z 0 [Note] Event Scheduler: Loaded 0 events
2019-07-24T21:45:22.340448Z 0 [Note] mysqld: ready for connections.
Version: '5.7.25'  socket: '/var/run/mysqld/mysqld.sock'  port: 0  MySQL Community Server (GPL) Warning: Unable to load '/usr/share/zoneinfo/iso3166.tab' as time zone. Skipping it.
Warning: Unable to load '/usr/share/zoneinfo/leap-seconds.list' as time zone. Skipping it.
2019-07-24T21:45:43.583773Z 0 [Note] InnoDB: page_cleaner: 1000ms intended loop took 5569ms. The settings might not be optimal. (flushed=128 and evicted=0, during the time.)
2019-07-24T21:45:55.317197Z 0 [Note] InnoDB: page_cleaner: 1000ms intended loop took 4455ms. The settings might not be optimal. (flushed=104 and evicted=0, during the time.)
2019-07-24T21:46:27.365571Z 0 [Note] InnoDB: page_cleaner: 1000ms intended loop took 12733ms. The settings might not be optimal. (flushed=199 and evicted=0, during the time.)
Warning: Unable to load '/usr/share/zoneinfo/zone.tab' as time zone. Skipping it.
Warning: Unable to load '/usr/share/zoneinfo/zone1970.tab' as time zone. Skipping it.
2019-07-24T21:46:38.374095Z 4 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:38.375965Z 4 [Warning] 'user' entry 'mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:38.376023Z 4 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:38.376077Z 4 [Warning] 'db' entry 'performance_schema mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:38.376088Z 4 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:38.376106Z 4 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:38.376378Z 4 [Warning] 'tables_priv' entry 'user mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:38.376396Z 4 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.

2019-07-24T21:46:41.777073Z 0 [Note] Giving 0 client threads a chance to die gracefully
2019-07-24T21:46:41.777144Z 0 [Note] Shutting down slave threads
2019-07-24T21:46:42.393460Z 0 [Note] Forcefully disconnecting 0 remaining clients
2019-07-24T21:46:42.393591Z 0 [Note] Event Scheduler: Purging the queue. 0 events
2019-07-24T21:46:42.393884Z 0 [Note] Binlog end
2019-07-24T21:46:42.518137Z 0 [Note] Shutting down plugin 'ngram'
2019-07-24T21:46:42.518588Z 0 [Note] Shutting down plugin 'partition'
2019-07-24T21:46:42.518680Z 0 [Note] Shutting down plugin 'BLACKHOLE'
2019-07-24T21:46:42.518711Z 0 [Note] Shutting down plugin 'ARCHIVE'
2019-07-24T21:46:42.518727Z 0 [Note] Shutting down plugin 'PERFORMANCE_SCHEMA'
2019-07-24T21:46:42.519531Z 0 [Note] Shutting down plugin 'MRG_MYISAM'
2019-07-24T21:46:42.519562Z 0 [Note] Shutting down plugin 'MyISAM'
2019-07-24T21:46:42.519594Z 0 [Note] Shutting down plugin 'INNODB_SYS_VIRTUAL'
2019-07-24T21:46:42.520509Z 0 [Note] Shutting down plugin 'INNODB_SYS_DATAFILES'
2019-07-24T21:46:42.520542Z 0 [Note] Shutting down plugin 'INNODB_SYS_TABLESPACES'
2019-07-24T21:46:42.520624Z 0 [Note] Shutting down plugin 'INNODB_SYS_FOREIGN_COLS'
2019-07-24T21:46:42.520645Z 0 [Note] Shutting down plugin 'INNODB_SYS_FOREIGN'
2019-07-24T21:46:42.520660Z 0 [Note] Shutting down plugin 'INNODB_SYS_FIELDS'
2019-07-24T21:46:42.520676Z 0 [Note] Shutting down plugin 'INNODB_SYS_COLUMNS'
2019-07-24T21:46:42.520691Z 0 [Note] Shutting down plugin 'INNODB_SYS_INDEXES'
2019-07-24T21:46:42.520706Z 0 [Note] Shutting down plugin 'INNODB_SYS_TABLESTATS'
2019-07-24T21:46:42.520722Z 0 [Note] Shutting down plugin 'INNODB_SYS_TABLES'
2019-07-24T21:46:42.520737Z 0 [Note] Shutting down plugin 'INNODB_FT_INDEX_TABLE'
2019-07-24T21:46:42.520752Z 0 [Note] Shutting down plugin 'INNODB_FT_INDEX_CACHE'
2019-07-24T21:46:42.520768Z 0 [Note] Shutting down plugin 'INNODB_FT_CONFIG'
2019-07-24T21:46:42.520783Z 0 [Note] Shutting down plugin 'INNODB_FT_BEING_DELETED'
2019-07-24T21:46:42.520798Z 0 [Note] Shutting down plugin 'INNODB_FT_DELETED'
2019-07-24T21:46:42.520814Z 0 [Note] Shutting down plugin 'INNODB_FT_DEFAULT_STOPWORD'
2019-07-24T21:46:42.520829Z 0 [Note] Shutting down plugin 'INNODB_METRICS'
2019-07-24T21:46:42.520844Z 0 [Note] Shutting down plugin 'INNODB_TEMP_TABLE_INFO'
2019-07-24T21:46:42.520860Z 0 [Note] Shutting down plugin 'INNODB_BUFFER_POOL_STATS'
2019-07-24T21:46:42.520876Z 0 [Note] Shutting down plugin 'INNODB_BUFFER_PAGE_LRU'
2019-07-24T21:46:42.520891Z 0 [Note] Shutting down plugin 'INNODB_BUFFER_PAGE'
2019-07-24T21:46:42.520907Z 0 [Note] Shutting down plugin 'INNODB_CMP_PER_INDEX_RESET'
2019-07-24T21:46:42.520922Z 0 [Note] Shutting down plugin 'INNODB_CMP_PER_INDEX'
2019-07-24T21:46:42.520937Z 0 [Note] Shutting down plugin 'INNODB_CMPMEM_RESET'
2019-07-24T21:46:42.520953Z 0 [Note] Shutting down plugin 'INNODB_CMPMEM'
2019-07-24T21:46:42.520968Z 0 [Note] Shutting down plugin 'INNODB_CMP_RESET'
2019-07-24T21:46:42.520983Z 0 [Note] Shutting down plugin 'INNODB_CMP'
2019-07-24T21:46:42.520999Z 0 [Note] Shutting down plugin 'INNODB_LOCK_WAITS'
2019-07-24T21:46:42.521014Z 0 [Note] Shutting down plugin 'INNODB_LOCKS'
2019-07-24T21:46:42.521029Z 0 [Note] Shutting down plugin 'INNODB_TRX'
2019-07-24T21:46:42.521045Z 0 [Note] Shutting down plugin 'InnoDB'
2019-07-24T21:46:42.552598Z 0 [Note] InnoDB: FTS optimize thread exiting.
2019-07-24T21:46:42.583492Z 0 [Note] InnoDB: Starting shutdown...
2019-07-24T21:46:43.537281Z 0 [Note] InnoDB: Dumping buffer pool(s) to /var/lib/mysql/ib_buffer_pool
2019-07-24T21:46:43.668904Z 0 [Note] InnoDB: Buffer pool(s) dump completed at 190724 21:46:43
2019-07-24T21:46:45.063598Z 0 [Note] InnoDB: Shutdown completed; log sequence number 12360372
2019-07-24T21:46:45.070238Z 0 [Note] InnoDB: Removed temporary tablespace data file: "ibtmp1"
2019-07-24T21:46:45.070332Z 0 [Note] Shutting down plugin 'MEMORY'
2019-07-24T21:46:45.072978Z 0 [Note] Shutting down plugin 'CSV'
2019-07-24T21:46:45.073031Z 0 [Note] Shutting down plugin 'sha256_password'
2019-07-24T21:46:45.073038Z 0 [Note] Shutting down plugin 'mysql_native_password'
2019-07-24T21:46:45.074941Z 0 [Note] Shutting down plugin 'binlog'
2019-07-24T21:46:45.177624Z 0 [Note] mysqld: Shutdown complete


MySQL init process done. Ready for start up.

2019-07-24T21:46:46.109740Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).
2019-07-24T21:46:46.111903Z 0 [Note] mysqld (mysqld 5.7.25) starting as process 1 ...
2019-07-24T21:46:46.556009Z 0 [Note] InnoDB: PUNCH HOLE support available
2019-07-24T21:46:46.556075Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins
2019-07-24T21:46:46.556701Z 0 [Note] InnoDB: Uses event mutexes
2019-07-24T21:46:46.556713Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier
2019-07-24T21:46:46.556721Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.11
2019-07-24T21:46:46.556878Z 0 [Note] InnoDB: Using Linux native AIO
2019-07-24T21:46:46.571288Z 0 [Note] InnoDB: Number of pools: 1
2019-07-24T21:46:46.573832Z 0 [Note] InnoDB: Using CPU crc32 instructions
2019-07-24T21:46:47.869074Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M
2019-07-24T21:46:48.478425Z 0 [Note] InnoDB: Completed initialization of buffer pool
2019-07-24T21:46:48.689828Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().
2019-07-24T21:46:49.425859Z 0 [Note] InnoDB: Highest supported file format is Barracuda.
2019-07-24T21:46:49.593205Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables
2019-07-24T21:46:49.593357Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...
2019-07-24T21:46:49.778094Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.
2019-07-24T21:46:50.546362Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.
2019-07-24T21:46:50.546444Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.
2019-07-24T21:46:50.548652Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:50.601093Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:50.651697Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:50.780753Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:50.836620Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:50.886932Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:50.937515Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:50.987753Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:51.038867Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:51.089769Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:51.139943Z 0 [Note] InnoDB: Waiting for purge to start
2019-07-24T21:46:51.196364Z 0 [Note] InnoDB: 5.7.25 started; log sequence number 12360372
2019-07-24T21:46:51.265266Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool
2019-07-24T21:46:51.531175Z 0 [Note] Plugin 'FEDERATED' is disabled.
2019-07-24T21:46:52.562878Z 0 [Note] InnoDB: Buffer pool(s) load completed at 190724 21:46:52
2019-07-24T21:46:54.291410Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.
2019-07-24T21:46:54.849878Z 0 [Warning] CA certificate ca.pem is self signed.
2019-07-24T21:46:55.086963Z 0 [Note] Server hostname (bind-address): '*'; port: 3306
2019-07-24T21:46:55.088153Z 0 [Note] IPv6 is available.
2019-07-24T21:46:55.157487Z 0 [Note]   - '::' resolves to '::';
2019-07-24T21:46:55.160753Z 0 [Note] Server socket created on IP: '::'.
2019-07-24T21:46:55.183887Z 0 [Warning] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.
2019-07-24T21:46:56.494872Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:56.494952Z 0 [Warning] 'user' entry 'mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:56.494974Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:56.495534Z 0 [Warning] 'db' entry 'performance_schema mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:56.495591Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:56.496336Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:57.579540Z 0 [Warning] 'tables_priv' entry 'user mysql.session@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:57.579766Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.
2019-07-24T21:46:57.685888Z 0 [Note] Event Scheduler: Loaded 0 events
2019-07-24T21:46:57.695626Z 0 [Note] mysqld: ready for connections.
Version: '5.7.25'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
blog-db-dep-7c8f99fccd-mcw8f      1/1     Running   0          2m51s
helloworld-dep-6b5cd64d8d-vnbnh   1/1     Running   0          21m
helloworld-dep-6b5cd64d8d-w6hj6   1/1     Running   0          21m

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl exec -it blog-db-dep-7c8f99fccd-mcw8f --container db mysql -uroot -pwelcome
Error: unknown shorthand flag: 'u' in -uroot


Examples:
  # Get output from running 'date' command from pod mypod, using the first container by default
  kubectl exec mypod date

  # Get output from running 'date' command in ruby-container from pod mypod
  kubectl exec mypod -c ruby-container date

  # Switch to raw terminal mode, sends stdin to 'bash' in ruby-container from pod mypod
  # and sends stdout/stderr from 'bash' back to the client
  kubectl exec mypod -c ruby-container -i -t -- bash -il

  # List contents of /usr from the first container of pod mypod and sort by modification time.
  # If the command you want to execute in the pod has any flags in common (e.g. -i),
  # you must use two dashes (--) to separate your command's flags/arguments.
  # Also note, do not surround your command and its flags/arguments with quotes
  # unless that is how you would execute it normally (i.e., do ls -t /usr, not "ls -t /usr").
  kubectl exec mypod -i -t -- ls -t /usr

  # Get output from running 'date' command from the first pod of the deployment mydeployment, using the first container by default
  kubectl exec deploy/mydeployment date

  # Get output from running 'date' command from the first pod of the service myservice, using the first container by default
  kubectl exec svc/myservice date

Options:
  -c, --container='': Container name. If omitted, the first container in the pod will be chosen
      --pod-running-timeout=1m0s: The length of time (like 5s, 2m, or 3h, higher than zero) to wait until at least one pod is running
  -i, --stdin=false: Pass stdin to the container
  -t, --tty=false: Stdin is a TTY

Usage:
  kubectl exec (POD | TYPE/NAME) [-c CONTAINER] [flags] -- COMMAND [args...] [options]

Use "kubectl options" for a list of global command-line options (applies to all commands).

unknown shorthand flag: 'u' in -uroot

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ kubectl exec -it blog-db-dep-7c8f99fccd-mcw8f --container db -- mysql -uroot -pwelcome
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.25 MySQL Community Server (GPL)

Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.02 sec)

mysql> exit
Bye

Dell lap@Dell ~/docker-workshop/jul22/ora-jul22-dock-kube/k8s (master)
λ
